!function t(e,n,i){function r(u,a){if(!n[u]){if(!e[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(o)return o(u,!0);throw new Error("Cannot find module '"+u+"'")}var c=n[u]={exports:{}};e[u][0].call(c.exports,function(t){var n=e[u][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<i.length;u++)r(i[u]);return r}({1:[function(t,e){var n;n=function(t,e){var n,i,r,o,u;return o={},i=new DUIClient,i.connect(function(t){var e;return null!=(e=o[t.action])?e.map(function(e){return setTimeout(function(){return e(t)},0)}):void 0}),i.initOK(),u=null,n=function(){function t(t,e,n,r){var a,s,c,l;this.engine=t,this.HB=e,this.execution_listener=n,this.yatta=r,this.duiClient=i,this.iwcHandler=o,l=function(t){return function(e){return 0!==Object.getOwnPropertyNames(t.initialized).length?t.send(e):void 0}}(this),this.execution_listener.push(l),this.initialized={},a=function(t){return function(n){var i;return e=n.extras.HB,i=n.extras.user,t.engine.applyOpsCheckDouble(e),t.initialized[i]=!0}}(this),o.Yatta_push_HB_element=[a],this.sendIwcIntent("Yatta_get_HB_element",{}),s=function(t){return function(e){var n;return n=e.extras,null!=t.initialized[n.uid.creator]?t.receive(n):void 0}}(this),this.iwcHandler.Yatta_new_operation=[s],null!=u&&this.engine.applyOpsCheckDouble(u),c=function(t){return function(){var e;return e={HB:t.yatta.getHistoryBuffer()._encode(),user:t.yatta.getUserId()},t.sendIwcIntent("Yatta_push_HB_element",e)}}(this),this.iwcHandler.Yatta_get_HB_element=[c]}return t.prototype.send=function(t){return t.uid.creator===this.HB.getUserId()&&"string"!=typeof t.uid.op_number?this.sendIwcIntent("Yatta_new_operation",t):void 0},t.prototype.receive=function(t){return t.uid.creator!==this.HB.getUserId()?this.engine.applyOp(t):void 0},t.prototype.sendIwcIntent=function(t,e){var n;return n={action:t,component:"",data:"",dataType:"",flags:["PUBLISH_GLOBAL"],extras:e},this.duiClient.sendIntent(n)},t}(),r=function(){var i;return i=null,i=null!=e?e:Math.floor(1e6*Math.random()),t(n,i)},void setTimeout(r,5e3)},e.exports=n,"undefined"!=typeof window&&null!==window&&(window.createIwcConnector=n)},{}]},{},[1]);